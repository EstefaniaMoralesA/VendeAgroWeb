@if (Startup.GetAplicacionUsuariosManager().VerificarPortalSesion() == LoginStatus.Exitoso)
{
    using (Html.BeginForm("LogOut", "Portal", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
        @Html.AntiForgeryToken()

        <ul class="nav navbar-nav navbar-right login-container">
            <li>
                @Html.ActionLink(Startup.GetAplicacionUsuariosManager().getUsuarioPortalActual(Request).Nombre, "Index", "Portal", routeValues: null, htmlAttributes: new { title = "Portal" })
            </li>
            <li><a href="javascript:document.getElementById('logoutForm').submit()">Log out</a></li>
            <li>
                <span class="carrito-boton">
                    <a class="btn btn-default carrito botones-grad botones-shadow" href="/Home/CarritoDeCompra">
                        <span class="glyphicon glyphicon-shopping-cart"></span>
                    </a>
                </span>
            </li>
        </ul>
    }
}
else
{
    <div class="botones-menu">
        <a class="btn btn-primary btn-8-caracteres btn-ingresar botones-shadow botones-grad" data-target="#login" data-toggle="modal" id="loginLink"><span class="icono-ingresar glyphicon glyphicon-user"></span>Ingresar</a>
        <a class="btn btn-default carrito botones-grad botones-shadow" href="/Home/CarritoDeCompra">
            <span class="glyphicon glyphicon-shopping-cart"></span>
        </a>
    </div>
}

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap.min")

<script>

    $('#loginLink').click(function () {
        if ($('#login').hasClass('in')) {
            $('#login').modal('hide');
        }
    });
</script>
